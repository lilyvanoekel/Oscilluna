<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dumb chatgpt Three.js Demo</title>
    <style>
      body {
        margin: 0;
        overflow: hidden;
      }
      canvas {
        display: block;
      }
    </style>
  </head>
  <body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
      // Set up the scene
      const scene = new THREE.Scene();

      // Set up the camera
      const camera = new THREE.PerspectiveCamera(
        75,
        window.innerWidth / window.innerHeight,
        0.1,
        1000
      );
      camera.position.z = 50;

      // Set up the renderer with alpha blending
      const renderer = new THREE.WebGLRenderer({
        antialias: true,
        alpha: true,
      });
      renderer.setSize(window.innerWidth, window.innerHeight);
      renderer.setClearColor(0x000000, 0); // Transparent background
      document.body.appendChild(renderer.domElement);

      // Create custom geometries and materials
      const shapes = [];
      const shapeCount = 50;

      for (let i = 0; i < shapeCount; i++) {
        const geometry = new THREE.TorusKnotGeometry(
          Math.random() * 2 + 1,
          0.3,
          100,
          16
        );
        const material = new THREE.MeshPhongMaterial({
          color: getRandomColor(),
          shininess: 100,
          blending: THREE.AdditiveBlending,
          transparent: true,
          opacity: 0.75,
        });
        const shape = new THREE.Mesh(geometry, material);

        shape.position.set(
          (Math.random() - 0.5) * 100,
          (Math.random() - 0.5) * 100,
          (Math.random() - 0.5) * 100
        );

        shape.rotationSpeed = Math.random() * 0.02 + 0.01;
        shape.scale.setScalar(Math.random() * 2 + 0.5);

        scene.add(shape);
        shapes.push(shape);
      }

      // Add lighting
      const ambientLight = new THREE.AmbientLight(0xffffff, 0.3);
      scene.add(ambientLight);

      const pointLight = new THREE.PointLight(0xffffff, 1.5);
      camera.add(pointLight);
      scene.add(camera);

      // Mouse movement and interaction variables
      let mouseX = 0,
        mouseY = 0;
      let isDragging = false;
      let dragStartX = 0,
        dragStartY = 0;

      // Random color generator
      function getRandomColor() {
        return `#${Math.floor(Math.random() * 16777215).toString(16)}`;
      }

      // Animation loop
      function animate() {
        requestAnimationFrame(animate);

        // Rotate shapes
        shapes.forEach((shape) => {
          shape.rotation.x += shape.rotationSpeed * (isDragging ? 5 : 1);
          shape.rotation.y += shape.rotationSpeed * (isDragging ? 5 : 1);
        });

        // Camera follows mouse movement
        camera.position.x += (mouseX - camera.position.x) * 0.05;
        camera.position.y += (-mouseY - camera.position.y) * 0.05;

        renderer.render(scene, camera);
      }

      animate();

      // Mouse movement event listener
      document.addEventListener("mousemove", (event) => {
        mouseX = (event.clientX / window.innerWidth) * 2 - 1;
        mouseY = -(event.clientY / window.innerHeight) * 2 + 1;
      });

      // Mouse down event listener for dragging
      document.addEventListener("mousedown", (event) => {
        isDragging = true;
        dragStartX = event.clientX;
        dragStartY = event.clientY;
      });

      // Mouse up event listener for stopping dragging
      document.addEventListener("mouseup", () => {
        isDragging = false;
      });

      // Handle window resize
      window.addEventListener("resize", () => {
        renderer.setSize(window.innerWidth, window.innerHeight);
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
      });

      // Click event to change colors
      document.addEventListener("click", () => {
        shapes.forEach((shape) => {
          shape.material.color.set(getRandomColor());
        });
      });
    </script>
  </body>
</html>
